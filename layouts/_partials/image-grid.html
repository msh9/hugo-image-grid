{{/*
  Renders a responsive image grid from a normalized slice of dicts:
    [{ src, href, alt }, ...]
  No lookup or business logic here; callers must normalize.
*/}}

{{ $items := . | default (slice) }}
<ul class="grid" aria-label="Image grid">
  {{ range $items }}
    <li class="grid-item">
      <a href="{{ .href }}">
        <picture>
          {{ if and .small .medium }}
            <source size="(width <= 1024px) 280px, 320px" srcset="{{ .small }} 400w, {{ .medium }} 800w">
          {{ else if .small }}
            <source size="(width <= 1024px) 280px" srcset="{{ .small }} 400w">
          {{ end }}
          <img loading="lazy" src="{{ .src }}" alt="{{ .alt }}" />
        </picture>
      </a>
    </li>
  {{ end }}
</ul>
